# airflow_project


## Overview

This project demonstrates the setup of a Docker Compose environment for a data engineering challenge. The project consists of multiple containers, each serving a specific purpose, and uses Apache Airflow for data orchestration and visualization.

The key components of this project are:

- **Data Producer**: A Python script (`producer.py`) running in a Docker container periodically extracts data from the Wine Review database and writes it as CSV files to a shared volume.

- **Airflow**: An Airflow service is used to create and manage two DAGs (Directed Acyclic Graphs):
    - **Consumer DAG**: Reads and cleans CSV files produced by the Data Producer and stores the cleaned data in a PostgreSQL database.
    - **Presenter DAG**: Generates a Plotly Dash dashboard to visualize the data stored in the database.

- **DB**: A PostgreSQL Docker service is used to store the valid data processed by the Consumer DAG.

## Prerequisites

Before you can run this project, make sure you have the following prerequisites installed:

- [Docker](https://www.docker.com/) and [Docker Compose](https://docs.docker.com/compose/install/)
- [Git](https://git-scm.com/)

## Getting Started

1. Clone this repository to your local machine:

   ```bash
   git clone <repository_url>
   ```

2. Change your working directory to the project folder:

   ```bash
   cd docker-airflow-data-engineering
   ```

3. Build and start the Docker containers:

   ```bash
   docker-compose up --build
   ```

4. Access Airflow UI in your web browser at `http://localhost:9090`. Use the default credentials (username: `airflow`, password: `airflow`) to log in.

## Airflow DAGs

### Consumer DAG

- **Task 1 (`clean_data`)**: Reads and cleans CSV files generated by the Data Producer. Cleansing includes handling null values, and data validation.
- **Task 2 (`store_data`)**: Stores the cleaned data into a PostgreSQL database.

### Presenter DAG

- The Presenter DAG generates a Plotly Dash dashboard to visualize the data stored in the PostgreSQL database. The dashboard is accessible at `http://localhost:8050` in your web browser.

## Data Source

The project uses a Wine Review database for data extraction and analysis. 

